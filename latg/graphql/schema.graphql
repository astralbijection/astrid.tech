type Query {
    entries(): [Entry!]!
}

type Document {
    """ UUID that uniquely identifies this document across space and time. """
    uuid: String!
    canonical_url: String!

    createdDate: String!
    publishedDate: String!
    updatedDate: String

    categories: [Category!]!

    """ The body of this entry, as HTML. """
    content: String

    """ Info about the app that was used to generate this entry. """
    colophon: String

    """ The download link for the source file of this page (i.e. in Markdown, LaTeX, Jupyter...) """
    pageSrcURL: String

    object: DocumentType
}

union DocumentType = Entry | Project

type Entry {
    """ The name of this entry """
    name: String

    """ The permalink for this entry """
    permalink: String!
    
    """ A shorter link for this entry """
    shortlink: String!

    slug: Slug

    summary: String 
    location: String!

    syndication: [Syndication!]!

    photos: [Photo!]!
    replyTo: [String!]!
    repostOf: String!
    rsvp: RSVP

    """ Comments and webmentions. """
    comments: [Comment!]!

    document: Document
}

type Project {
    """ Slug of this project. """
    slug: String!

    """ The current status on this project. """
    status: ProjectStatus

    """ If null, do not feature. If not null, picks the order it is featured in. """
    featuredOrder: Int

    started_date: String!
    finished_date: String
    sort_date: String!

    """ The name of this project. """
    name: String!
    
    """ A tagline for this project. """
    summary: String!

    """ A URL to the project on the internet. """
    url: String

    """ A URL to the project's source code. """
    source: String

    """ A URI describing the physical location. """
    location: String

    document: Document
}

type RSVP {
    to: String!
    value: RSVPValue!
}

enum RSVPValue {
    YES
    NO
    MAYBE
    INTERESTED
}

enum ProjectStatus {
    EARLY
    WIP
    SCRAPPED
    COMPLETE
}

type Photo {
    warning: String
    caption: String!
    src: String!
}

type Category {
    slug: String!
    name: String!
    color: String!
    backgroundColor: String!

    documents(): [Document!]!

    relatedCategories(): [Category!]!
}

type Slug {
    year: Int!
    month: Int!
    day: Int!
    ordinal: Int!
    slug: String
}

type Syndication {
    name: String
    url: String!
}

type Comment {
    author: String
}
